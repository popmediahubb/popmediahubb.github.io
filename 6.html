<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Facebook Video Embed</title>
</head>
<body>
  <!-- Facebook SDK root -->
  <div id="fb-root"></div>

  <!-- Facebook Video Container -->
  <div id="myIframe" 
       class="fb-video" 
       data-href="https://www.facebook.com/facebook/videos/1173373513689916/" 
       data-width="500"
       data-show-text="false"
       data-autoplay="true"
       data-allowfullscreen="true"
       data-controls="true">
  </div>

  <!-- Facebook SDK -->
  <script async defer crossorigin="anonymous" 
    src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v20.0&appId=317808808064170" 
    nonce="abc123">
  </script>

  <!-- Video Playback Logic -->
  <script>
    window.fbAsyncInit = function () {
      FB.init({
        appId: '317808808064170',
        xfbml: true,
        version: 'v20.0'
      });

      FB.Event.subscribe('xfbml.ready', function (msg) {
        console.log(msg, 'msg');
        if (msg.type === 'video') {
          const player = msg.instance;
          player.play();

          player.subscribe('startedPlaying', () => {
            console.log('Video started playing');
          });

          player.subscribe('paused', () => {
            console.log('Video paused');
          });

          player.subscribe('finishedPlaying', () => {
            console.log('Video finished, restarting...');
            player.seek(0);
            player.play();
          });
        }
      });
    };
  </script>
</body>
</html>
